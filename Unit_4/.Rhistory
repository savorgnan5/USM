head(df)
df1<-str_extract_all(df$Name, regex("[a-z]+", TRUE))
library(stringi)
df1<-str_extract_all(df$Name, regex("[a-z]+", TRUE))
df1<-str_extract(df$Name, regex("[a-z]+", TRUE))
df1<-str_sub(df$Name, regex("[a-z]+", TRUE))
df1<-str_sub(df$Name, -2)
library(stringi)
df1<-str_sub(df$Name, -2)
library(XML)
library(dplyr)
library(tidyr)
library(stringi)
library(rvest)
library(ggplot2)
library(RCurl)
stars<-read_html("http://www.espn.com/nhl/team/roster/_/name/dal/dallas-stars")
stars_table<-html_nodes(stars, "table")
stars_dfs<-html_table(stars_table, fill = TRUE)
Rost1 = stars_dfs[[3]]
Rost2 = stars_dfs[[6]]
Rost3 = stars_dfs[[9]]
Rost4 = stars_dfs[[12]]
Rost5 = stars_dfs[[15]]
Roster = rbind(Rost1,Rost2)
Roster = rbind(Roster,Rost3)
Roster = rbind(Roster, Rost4)
Roster = rbind(Roster, Rost5)
head(Roster)
df1<-data_frame(Roster$Name)
df1
df1<- separate(df1, Name, into = c("Name","Position"), sep = "(?<=[a-zA-Z])\\s*(?=[0-9])")
df1<-data_frame(Roster)
df1<-data_frame(Roster)
df1
df1<- separate(df1, Name, into = c("Name","Position"), sep = "(?<=[a-zA-Z])\\s*(?=[0-9])")
df1
df1<- separate(df1,Name,into = c("Name","Position"), sep = "(?<=[a-zA-Z])\\s*(?=[0-9])")
df1
df1<- separate(df1$Name,into = c("Name","Position"), sep = "(?<=[a-zA-Z])\\s*(?=[0-9])")
df2<- separate(df2, Name, into = c("Name","Position"), sep = -2)
sports <- read_html('http://www.espn.com/nba/team/stats/_/name/sa/san-antonio-spurs')
sports<-sports %>% html_nodes("table") %>% .[[2]] %>% html_table()
head(sports)
df2<-data.frame(sports)
df2 %>% slice(-14)->df2
df2
df2<- separate(df2, Name, into = c("Name","Position"), sep = -2)
df2
df1<-data_frame(Roster)
df1
df1<- separate(df1, Name, into = c("Name","Position"), sep = "(?<=[a-zA-Z])\\s*(?=[0-9])")
head(df1)
df1<- separate(df1, Name, into = c("Name","Position"), sep = "(?<=[a-zA-Z])\\s*(?=[0-9])")
df1<- separate(df1," Name", into = c("Name","Position"), sep = "(?<=[a-zA-Z])\\s*(?=[0-9])")
head(df1)
players <- read_html('http://www.espn.com/nba/team/stats/_/name/sa/san-antonio-spurs')
players<-players %>% html_nodes("table") %>% .[[2]] %>% html_table()
stats <- read_html('http://www.espn.com/nba/team/stats/_/name/sa/san-antonio-spurs')
stats<-stats %>% html_nodes("table") %>% .[[8]] %>% html_table()
spurs  <- cbind(players,stats)
head(spurs)
dfp<- separate(spurs, Name, into = c("Name","Position"), sep = -2)
head(dfp)
sports <- read_html('http://www.espn.com/nba/team/stats/_/name/sa/san-antonio-spurs')
sports<-sports %>% html_nodes("table") %>% .[[2]] %>% html_table()
head(sports)
df2<-data.frame(sports)
df2 %>% slice(-14)->df2
df2
df2<- separate(df2, Name, into = c("Name","Position"), sep = -2)
df2
library(XML)
library(dplyr)
library(tidyr)
library(stringi)
library(rvest)
library(ggplot2)
library(RCurl)
players <- read_html('http://www.espn.com/nba/team/stats/_/name/sa/san-antonio-spurs')
players<-players %>% html_nodes("table") %>% .[[2]] %>% html_table()
stats <- read_html('http://www.espn.com/nba/team/stats/_/name/sa/san-antonio-spurs')
stats<-stats %>% html_nodes("table") %>% .[[8]] %>% html_table()
spurs  <- cbind(players,stats)
head(spurs)
dfp<- separate(spurs, Name, into = c("Name","Position"), sep = -2)
head(dfp)
sports <- read_html('http://www.espn.com/nba/team/stats/_/name/sa/san-antonio-spurs')
sports<-sports %>% html_nodes("table") %>% .[[2]] %>% html_table()
head(sports)
df2<-data.frame(sports)
df2 %>% slice(-14)->df2
df2
df2<- separate(df2, Name, into = c("Name","Position"), sep = -2)
df2
players <- read_html('http://www.espn.com/nba/team/stats/_/name/sa/san-antonio-spurs')
players<-players %>% html_nodes("table") %>% .[[2]] %>% html_table()
stats <- read_html('http://www.espn.com/nba/team/stats/_/name/sa/san-antonio-spurs')
stats<-stats %>% html_nodes("table") %>% .[[8]] %>% html_table()
spurs  <- cbind(players,stats)
head(spurs)
dfp<- separate(spurs, Name, into = c("Name","Position"), sep = -2)
head(dfp)
dfp<- separate(spurs, Name, into = c("Name","Position"), sep = -2)
head(dfp)
p <-ggplot(spurs, aes("Name", "FG%"))
p +geom_bar(stat = "identity", aes(fill = "Position"))
p
hp<-read_html("http://www.imdb.com/title/tt1201607/fullcredits?ref_=tt_ql_1")
hp_table<-html_nodes(hp,"table")
derp<-html_table(hp_table)
derp[1]
class(derp)
a <- data.frame(derp[3])
head(a)
ames(a) <- c("Blank", "Actor", "Blank2","Character")
df<-a[2:length(a$Actor),c("Actor", "Character")]
df$Character[10] <- "Griphook / Professor Filius Flitwick"
names(a) <- c("Blank", "Actor", "Blank2","Character")
df<-a[2:length(a$Actor),c("Actor", "Character")]
df$Character[10] <- "Griphook / Professor Filius Flitwick"
head(df)
df %>%
slice(-92) %>%
separate(Actor, into=c("FirstNames", "Surname"), sep="[ ](?=[^ ]+$)") -> b
head(b,10)
players <- read_html('http://www.espn.com/nba/team/stats/_/name/sa/san-antonio-spurs')
players<-players %>% html_nodes("table") %>% .[[2]] %>% html_table()
stats <- read_html('http://www.espn.com/nba/team/stats/_/name/sa/san-antonio-spurs')
stats<-stats %>% html_nodes("table") %>% .[[8]] %>% html_table()
spurs  <- cbind(players,stats)
head(spurs)
dfp<- separate(spurs, Name, into = c("Name","Position"), sep = -2)
head(dfp
dfp<- separate(spurs, Name, into = c("Name","Position"), sep = -2)
head(dfp)
p<-ggplot(dfp, aes(x=Name, y=FG%, fill=Position)) +
geom_bar(stat="identity")+theme_minimal()
dfp$`FG%`<-dfp$FG.
head(dfp)
dfp$FG%<-dfp$FG.
head(dfp)
head(dfp)
players <- read_html('http://www.espn.com/nba/team/stats/_/name/sa/san-antonio-spurs')
players<-players %>% html_nodes("table") %>% .[[2]] %>% html_table()
stats <- read_html('http://www.espn.com/nba/team/stats/_/name/sa/san-antonio-spurs')
stats<-stats %>% html_nodes("table") %>% .[[8]] %>% html_table()
spurs  <- cbind(players,stats)
head(spurs)
dfp<- separate(spurs, Name, into = c("Name","Position"), sep = -2)
head(dfp)
names(dfp)[1] <- "FGP"
head(dfp)
names(dfp)[1] <- "FGP"
head(dfp)
dfp<- separate(spurs, Name, into = c("Name","Position"), sep = -2)
head(dfp)
names(dfp)[5] <- "FGP"
names(dfp)[5] <- "FGP"
head(dfp)
p1= ggplot(data=dfp, aes(x=Name, y=FGP, fill=Position))
p2 = p1 +geom_bar(stat="identity")+theme_minimal()
p3 = p2 + theme_minimal()
p3
p1= ggplot(data=dfp, aes(x=Name, y=FGP, fill=Position))
p2 = p1 +geom_bar(stat="identity")+theme_minimal()
p3 = p2 + theme_minimal() + coord flip
p1= ggplot(data=dfp, aes(x=Name, y=FGP, fill=Position))
p2 = p1 +geom_bar(stat="identity")+theme_minimal()
p3 = p2 + theme_minimal()
p4 = p3 + coord_flip()
p5
p4
dfp
dfp<- dfp[-14]
dfp
dfp<- dfp[-14,]
dfp
p1= ggplot(data=dfp, aes(x=Name, y=FGP, fill=Position))
p2 = p1 +geom_bar(stat="identity")+theme_minimal()
p3 = p2 + theme_minimal()
p4 = p3 + coord_flip()
p4
df2
p1= ggplot(data=dfp, aes(x=Name, y=FGP, fill=Position))
p2 = p1 +geom_bar(stat="identity")+theme_minimal()
p3 = p2 + theme_minimal()
p4 = p3 + coord_flip()
p5 = p4 + ("Spurs Players Performance by Positions") + labs(x= "Field Goal Percentage", y= "Spurs Players")
1= ggplot(data=dfp, aes(x=Name, y=FGP, fill=Position))
p2 = p1 +geom_bar(stat="identity")+theme_minimal()
p3 = p2 + theme_minimal()
p4 = p3 + coord_flip()
p5 = p4 + ggtitle("Spurs Players Performance by Positions") + labs(x= "Field Goal Percentage", y= "Spurs Players")
p5
p1= ggplot(data=dfp, aes(x=Name, y=FGP, fill=Position))
p2 = p1 +geom_bar(stat="identity")+theme_minimal()
p3 = p2 + theme_minimal()
p4 = p3 + coord_flip()
p5 = p4 + ggtitle("Spurs Players Performance by Positions") + labs(x= "Spurs Players",  y= "SField Goal Percentage")
p5
p1= ggplot(data=dfp, aes(x=Name, y=FGP, fill=Position))
p2 = p1 +geom_bar(stat="identity")+theme_minimal()
p3 = p2 + theme_minimal()
p4 = p3 + coord_flip()
p5 = p4 + ggtitle("Spurs Players Performance by Positions") + labs(x= "Spurs Players",  y= "Field Goal Percentage")
p5
p1= ggplot(data=dfp, aes(x=Name, y=FGP, fill=Position))
p2 = p1 +geom_bar(stat="identity")
p3 = p2 + theme_minimal()
p4 = p3 + coord_flip()
p5 = p4 + ggtitle("Spurs Players Performance by Positions") + labs(x= "Spurs Players",  y= "Field Goal Percentage")
p5
names(a) <- c("Blank", "Actor", "Blank2","Character")
df<-a[2:length(a$Actor),c("Actor", "Character")]
df$Character[10] <- "Griphook / Professor Filius Flitwick"
head(df)
df %>%
slice(-92) %>%
separate(Actor, into=c("FirstNames", "Surname"), sep="[ ](?=[^ ]+$)") -> b
head(b,10)
library(XML)
library(dplyr)
library(tidyr)
library(stringi)
library(rvest)
library(ggplot2)
library(RCurl)
hp<-read_html("http://www.imdb.com/title/tt1201607/fullcredits?ref_=tt_ql_1")
hp_table<-html_nodes(hp,"table")
derp<-html_table(hp_table)
derp[1]
class(derp)
a <- data.frame(derp[3])
head(a)
names(a) <- c("Blank", "Actor", "Blank2","Character")
df<-a[2:length(a$Actor),c("Actor", "Character")]
df$Character[10] <- "Griphook / Professor Filius Flitwick"
head(df)
df %>%
slice(-92) %>%
separate(Actor, into=c("FirstNames", "Surname"), sep="[ ](?=[^ ]+$)") -> b
head(b,10)
install.packages("WDI")
library(WDI)
WDIsearch("Data")
FertConsumpData <- WDI(indicator="AG.CON.FERT.ZS")
FertConsumpData
MaleOFSD <- WDI(country = "US", indicator="UIS.ROFST.H.2.Q3.M", start = 2017, end = 2018)
MaleOFSD
data <-getURL("https://www.w3schools.com/xml/simple.xml")
library(XML)
library(dplyr)
library(tidyr)
library(stringi)
library(rvest)
library(ggplot2)
library(RCurl)
data <-getURL("https://www.w3schools.com/xml/simple.xml")
doc <- xmlParse(data)
doc <- xmlParse(data)
names <- xpathSApply(doc,"//name",xmlValue)
price <- xpathSApply(doc,"//price",xmlValue)
description <- xpathSApply(doc,"//description",xmlValue)
bfasts = data.frame(names,price,description)
bfasts
bfasts$description
which(grepl("toast",bfasts$description))
grep("covered",bfasts$description)
hp<-read_html("https://www.w3schools.com/xml/simple.xml")
hp_nameR <- html_nodes(hp,"name")
hp_priceR <- html_nodes(hp,"price")
hp_descR <- html_nodes(hp,"description")
hp_nameR
hp_name = stri_sub(hp_nameR,7,-8)
hp_name
hp_price = stri_sub(hp_priceR,8,-9)
hp_price
hp_desc = stri_sub(hp_descR,14,-15)
hp_desc
grep("toast", hp_desc)
grepl("toast",hp_desc)
data <-getURL("https://d396qusza40orc.cloudfront.net/getdata%2Fdata%2Frestaurants.xml")
doc <- xmlParse(data)
names <- xpathSApply(doc,"//name",xmlValue)
zipcodes <- xpathSApply(doc,"//zipcode",xmlValue)
councildistrict <- xpathSApply(doc,"//councildistrict",xmlValue)
data <-getURL("https://d396qusza40orc.cloudfront.net/getdata%2Fdata%2Frestaurants.xml")
doc <- xmlParse(data)
names <- xpathSApply(doc,"//name",xmlValue)
zipcodes <- xpathSApply(doc,"//zipcode",xmlValue)
councildistrict <- xpathSApply(doc,"//councildistrict",xmlValue)
rests = data.frame(names,zipcodes,councildistrict)
dim(rests)
rests = data.frame(names,zipcodes,councildistrict)
restsDTown = rests[which(rests$councildistrict == "11"),]
grep("Sushi",rests$names,ignore.case = T)
hp<-read_html("https://d396qusza40orc.cloudfront.net/getdata%2Fdata%2Frestaurants.xml")
hp_name2 <- html_nodes(hp,"name")
hp_zipcode2 <- html_nodes(hp,"zipcode")
hp_councildistrict2 <- html_nodes(hp,"councildistrict")
restByDist = hist(as.numeric(councildistrict))
restByDist = hist(as.numeric(hp_councildistrict2))
api_key = "O1wKPp3sOYMJH3NzWIqd6jAdf
api_secret = "hedARa6too4P31ulm1xUFr5K0UIrJeT7Jx3IpAY54KOvqw3SAb "
api_secret = "hedARa6too4P31ulm1xUFr5K0UIrJeT7Jx3IpAY54KOvqw3SAb"
api_key = "O1wKPp3sOYMJH3NzWIqd6jAdf"
api_secret = "hedARa6too4P31ulm1xUFr5K0UIrJeT7Jx3IpAY54KOvqw3SAb"
access_token = "1040035561812185093-D6g8ojpgchwsaQwnFERHff8R6HpZcy"
access_token_secret = "aZ1jlQksBd95vlgFfc8eI0qImjvQbvQHPLTJ9cQEfPvsE"
library(twitteR)
install.packages("TwitteR")
library(twitteR)
setup_twitter_oauth(api_key,api_secret,access_token,access_token_secret)
install.packages("twitteR")
library(twitteR)
library(twitteR)
library(twitteR)
library("twitteR")
api_key = "O1wKPp3sOYMJH3NzWIqd6jAdf"
api_secret = "hedARa6too4P31ulm1xUFr5K0UIrJeT7Jx3IpAY54KOvqw3SAb"
access_token = "1040035561812185093-D6g8ojpgchwsaQwnFERHff8R6HpZcy"
access_token_secret = "aZ1jlQksBd95vlgFfc8eI0qImjvQbvQHPLTJ9cQEfPvsE"
library("twitteR")
install.packages("twitteR")
library("twitteR")
library("twitteR")
library("TwitteR")
library("twitteR")
library("rtimes")
library("twitteR")
install.packages("twitteR")
library("twitteR")
library("twitteR")
library("twitteR")
library(XML)
library(dplyr)
library(tidyr)
library(stringi)
library(rvest)
library(ggplot2)
library(RCurl)
data <-getURL("https://d396qusza40orc.cloudfront.net/getdata%2Fdata%2Frestaurants.xml")
doc <- xmlParse(data)
head(data)
doc <- xmlParse(data)
= rbind(Rost1,Rost2)
Roster = rbind(Roster,Rost3)
Roster = rbind(Roster, Rost4)
Roster = rbind(Roster, Rost5)
head(Roster)
tars<-read_html("http://www.espn.com/nhl/team/roster/_/name/dal/dallas-stars")
stars_table<-html_nodes(stars, "table")
stars<-read_html("http://www.espn.com/nhl/team/roster/_/name/dal/dallas-stars")
stars_table<-html_nodes(stars, "table")
stars_dfs<-html_table(stars_table, fill = TRUE)
Rost1 = stars_dfs[[3]]
Rost2 = stars_dfs[[6]]
Rost3 = stars_dfs[[9]]
Rost4 = stars_dfs[[12]]
Rost5 = stars_dfs[[15]]
Roster = rbind(Rost1,Rost2)
Roster = rbind(Roster,Rost3)
Roster = rbind(Roster, Rost4)
Roster = rbind(Roster, Rost5)
head(Roster)
df1<-data_frame(Roster)
df1
df1<- separate(df1, Name, into = c("Name","Position"), sep = "(?<=[a-zA-Z])\\s*(?=[0-9])")
df1<-df1[-1]
df1
head(df1)
head(Roster)
class(Roster)
df1<- separate(Roster, Name, into = c("Name","Position"), sep = "(?<=[a-zA-Z])\\s*(?=[0-9])")
head(Roster)
df1<-Roster[-1]
df1
df1<- separate(df1, Name, into = c("Name","Position"), sep = "(?<=[a-zA-Z])\\s*(?=[0-9])")
head(df1)
df1[,2]<-sapply(df1[,2], as.numeric)
head(df1)
df1$Age<-NULL
df1$HT<-NULL
df1$WT<-NULL
df1$Shot<-NULL
df1$Birth.Place<-NULL
df1$Birthdate<-NULL
head(df1)
knitr::opts_chunk$set(echo = TRUE)
library(XML)
library(dplyr)
library(tidyr)
library(stringi)
library(rvest)
library(ggplot2)
library(RCurl)
hp<-read_html("http://www.imdb.com/title/tt1201607/fullcredits?ref_=tt_ql_1")
hp_table<-html_nodes(hp,"table")
derp<-html_table(hp_table)
derp[1]
class(derp)
a <- data.frame(derp[3])
head(a)
names(a) <- c("Blank", "Actor", "Blank2","Character")
df<-a[2:length(a$Actor),c("Actor", "Character")]
df$Character[10] <- "Griphook / Professor Filius Flitwick"
head(df)
f %>%
slice(-92) %>%
separate(Actor, into=c("FirstNames", "Surname"), sep="[ ](?=[^ ]+$)") -> b
df %>%
slice(-92) %>%
separate(Actor, into=c("FirstNames", "Surname"), sep="[ ](?=[^ ]+$)") -> b
head(b,10)
sports <- read_html('http://www.espn.com/nba/team/stats/_/name/sa/san-antonio-spurs')
sports<-sports %>% html_nodes("table") %>% .[[2]] %>% html_table()
head(sports)
df2<-data.frame(sports)
df2 %>% slice(-14)->df2
df2
df2<- separate(df2, Name, into = c("Name","Position"), sep = -2)
df2
players <- read_html('http://www.espn.com/nba/team/stats/_/name/sa/san-antonio-spurs')
players<-players %>% html_nodes("table") %>% .[[2]] %>% html_table()
stats <- read_html('http://www.espn.com/nba/team/stats/_/name/sa/san-antonio-spurs')
stats<-stats %>% html_nodes("table") %>% .[[8]] %>% html_table()
spurs  <- cbind(players,stats)
head(spurs)
dfp<- separate(spurs, Name, into = c("Name","Position"), sep = -2)
head(dfp)
names(dfp)[5] <- "FGP"
dfp<- dfp[-14,]
dfp
dfp<- separate(spurs, Name, into = c("Name","Position"), sep = -2)
head(dfp)
names(dfp)[5] <- "FGP"
dfp<- dfp[-14,]
dfp
p1= ggplot(data=dfp, aes(x=Name, y=FGP, fill=Position))
p2 = p1 +geom_bar(stat="identity")
p3 = p2 + theme_minimal()
p4 = p3 + coord_flip()
p5 = p4 + ggtitle("Spurs Players Performance by Positions") + labs(x= "Spurs Players",  y= "Field Goal Percentage")
p5
install.packages("rtimes")
Sys.setenv(NYTIMES_API_KEY = "ULAGIigdFMCFsmJgB5cxcwKmCjnISU6W")
library("rtimes")
library(dplyr)
library(tidyr)
library(plyr)
library(rjson)
library(RTextTools)
library(jsonlite)
library(dplyr)
library(tidyr)
library(plyr)
library(rjson)
library(RTextTools)
library(jsonlite)
install.packages(RTextTools)
NYTIMES_KEY = "ULAGIigdFMCFsmJgB5cxcwKmCjnISU6W";
install.packages("RTextTools")
term <- "Trump" # Need to use + to string together separate words
begin_date <- "20190101"
end_date <- "20190106"
baseurl <- paste0("http://api.nytimes.com/svc/search/v2/articlesearch.json?q=",term,
"&begin_date=",begin_date,"&end_date=",end_date,
"&facet_filter=true&api-key=",NYTIMES_KEY, sep="")
initialQuery <- jsonlite::fromJSON(baseurl)
maxPages <- round((initialQuery$response$meta$hits[1] / 10)-1)
pages <- list()
for(i in 0:maxPages){
nytSearch <- jsonlite::fromJSON(paste0(baseurl, "&page=", i), flatten = TRUE) %>% data.frame()
message("Retrieving page ", i)
pages[[i+1]] <- nytSearch
Sys.sleep(1)
}
allNYTSearch <- rbind_pages(pages)
grep("Putin", allNYTSearch$response.docs.headline.main, value = TRUE)
grep("Russia", allNYTSearch$response.docs.headline.main, value = TRUE)
grep("(Putin|Russia)", allNYTSearch$response.docs.headline.main, value = TRUE)
library(dplyr)
library(tidyr)
library(plyr)
library(rjson)
library(jsonlite)
library("rtimes")
Sys.setenv(NYTIMES_API_KEY = "ULAGIigdFMCFsmJgB5cxcwKmCjnISU6W")
NYTIMES_KEY = "ULAGIigdFMCFsmJgB5cxcwKmCjnISU6W";
term <- "Trump" # Need to use + to string together separate words
begin_date <- "20190101"
end_date <- "20190106"
baseurl <- paste0("http://api.nytimes.com/svc/search/v2/articlesearch.json?q=",term,
"&begin_date=",begin_date,"&end_date=",end_date,
"&facet_filter=true&api-key=",NYTIMES_KEY, sep="")
initialQuery <- jsonlite::fromJSON(baseurl)
maxPages <- round((initialQuery$response$meta$hits[1] / 10)-1)
pages <- list()
for(i in 0:maxPages){
nytSearch <- jsonlite::fromJSON(paste0(baseurl, "&page=", i), flatten = TRUE) %>% data.frame()
message("Retrieving page ", i)
pages[[i+1]] <- nytSearch
Sys.sleep(1)
}
allNYTSearch <- rbind_pages(pages)
grep("Putin", allNYTSearch$response.docs.headline.main, value = TRUE)
grep("Russia", allNYTSearch$response.docs.headline.main, value = TRUE)
grep("(Putin|Russia)", allNYTSearch$response.docs.headline.main, value = TRUE)
library(RTextTools)
?RTextool
??RTextool
